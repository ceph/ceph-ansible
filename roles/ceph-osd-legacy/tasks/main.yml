---
- name: include ceph_disk_cli_options_facts.yml
  include_tasks: ceph_disk_cli_options_facts.yml

- name: read information about the devices
  parted:
    device: "{{ item }}"
    unit: MiB
  register: parted_results
  with_items: "{{ devices }}"

- name: include check_gpt.yml
  include_tasks: check_gpt.yml
  when:
    - osd_scenario != 'lvm'

- name: include_tasks scenarios/collocated.yml
  include_tasks: scenarios/collocated.yml
  when:
    - osd_scenario == 'collocated'

- name: include_tasks scenarios/non-collocated.yml
  include_tasks: scenarios/non-collocated.yml
  when:
    - not osd_auto_discovery
    - osd_scenario == 'non-collocated'

- name: include_tasks activate_osds.yml
  include_tasks: activate_osds.yml
  when:
    - not containerized_deployment

- name: include_tasks start_osds.yml
  include_tasks: start_osds.yml