---
- name: include misc/configure_firewall_rpm.yml
  include: misc/configure_firewall_rpm.yml
  when:
    - configure_firewall
    - ansible_os_family in ['RedHat', 'Suse']
  # Hard code this so we will skip the entire file instead of individual tasks (Default isn't Consistent)
  static: False

- name: set_fact docker_exec_cmd
  set_fact:
    docker_exec_cmd: "docker exec ceph-restapi-{{ ansible_hostname }}"
  when:
    - containerized_deployment

- name: include pre_requisite.yml
  include: pre_requisite.yml
  when:
    - not containerized_deployment

- name: include start_restapi.yml
  include: start_restapi.yml
  when:
    - not containerized_deployment

- name: include docker/main.yml
  include: docker/main.yml
  when:
    - containerized_deployment
