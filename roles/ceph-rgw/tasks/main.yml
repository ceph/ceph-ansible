---
- include_tasks: pre_requisite.yml
  when: not rgw_containerized_deployment

- include_tasks: openstack-keystone.yml
  when:
    - radosgw_keystone|bool
    - radosgw_keystone_ssl|bool

- include_tasks: start_radosgw.yml
  when: not rgw_containerized_deployment

- name: include rgw multisite playbooks
  include_tasks: multisite/main.yml
  when:
    - rgw_zone is defined
    - rgw_multisite
    - ( ceph_release_num.{{ ceph_release }} >= ceph_release_num.jewel )

- include_tasks: ./docker/main.yml
  when: rgw_containerized_deployment