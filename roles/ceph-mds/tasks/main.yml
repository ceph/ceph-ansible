---
- name: include installs/install_on_redhat.yml
  include: installs/install_on_redhat.yml
  when:
    - ansible_os_family == 'RedHat'
  tags:
    - package-install
  # Hard code this so we will skip the entire file instead of individual tasks (Default isn't Consistent)
  static: False

- name: include installs/install_on_debian.yml
  include: installs/install_on_debian.yml
  when:
    - ansible_os_family == 'Debian'
  tags:
    - package-install
  # Hard code this so we will skip the entire file instead of individual tasks (Default isn't Consistent)
  static: False

- name: include checks/check_firewall.yml
  include: checks/check_firewall.yml
  when:
    - check_firewall
  # Hard code this so we will skip the entire file instead of individual tasks (Default isn't Consistent)
  static: False

- name: include misc/configure_firewall_rpm.yml
  include: misc/configure_firewall_rpm.yml
  when:
    - configure_firewall
    - ansible_os_family in ['RedHat', 'Suse']
  # Hard code this so we will skip the entire file instead of individual tasks (Default isn't Consistent)
  static: False

- name: include create_mds_filesystems.yml
  include: create_mds_filesystems.yml
  when:
    - inventory_hostname == groups[mds_group_name] | first

- name: set_fact docker_exec_cmd
  set_fact:
    docker_exec_cmd: "docker exec ceph-mds-{{ ansible_hostname }}"
  when:
    - containerized_deployment

- name: include common.yml
  include: common.yml

- name: non_containerized.yml
  include: non_containerized.yml
  when: not containerized_deployment

- name: containerized.yml
  include: containerized.yml
  when: containerized_deployment
