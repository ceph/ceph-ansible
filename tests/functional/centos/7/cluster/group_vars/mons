---
cephfs_pools:
  - { name: "{{ cephfs_data }}", pgs: "8" }
  - { name: "{{ cephfs_metadata }}", pgs: "8" }

create_crush_tree: True
crush_rule_config: True
crush_rule_hdd:
  name: HDD
  root: HDD
  type: host
  default: true
crush_rules:
  - "{{ crush_rule_hdd }}"

openstack_config: True
openstack_glance_pool:
  name: "images"
  pg_num: "{{ osd_pool_default_pg_num }}"
  pgp_num: "{{ osd_pool_default_pg_num }}"
  rule_name: "HDD"
  type: "replicated"
  erasure_profile: ""
  expected_num_objects: ""
openstack_cinder_pool:
  name: "volumes"
  pg_num: "{{ osd_pool_default_pg_num }}"
  pgp_num: "{{ osd_pool_default_pg_num }}"
  rule_name: "HDD"
  type: "replicated"
  erasure_profile: ""
  expected_num_objects: ""
openstack_pools:
  - "{{ openstack_glance_pool }}"
  - "{{ openstack_cinder_pool }}"

keys:
  - { name: client.test, key: "AQAin8tUoMPDGRAACcfAQHbq4eTuUoTCZdW1Uw==", mon_cap: "allow r", osd_cap: "allow class-read object_prefix rbd_children, allow rwx pool=test", mode: "0600", acls: [] }
  - { name: client.test2, key: "AQAin8tUAJkGGhAA8WZ8Lz5c7IkT8QZ5s7bI1A==", mon_cap: "allow r", osd_cap: "allow class-read object_prefix rbd_children, allow rwx pool=test2", mode: "0600", acls: [] }
user_config: True
test:
  name: "test"
  pg_num: "{{ hostvars[groups[mon_group_name][0]]['osd_pool_default_pg_num'] }}"
  pgp_num: "{{ hostvars[groups[mon_group_name][0]]['osd_pool_default_pg_num'] }}"
  rule_name: "HDD"
  type: "replicated"
  erasure_profile: ""
  expected_num_objects: ""
test2:
  name: "test2"
  pg_num: "{{ hostvars[groups[mon_group_name][0]]['osd_pool_default_pg_num'] }}"
  pgp_num: "{{ hostvars[groups[mon_group_name][0]]['osd_pool_default_pg_num'] }}"
  rule_name: "HDD"
  type: "replicated"
  erasure_profile: ""
  expected_num_objects: ""
pools:
  - "{{ test }}"
  - "{{ test2 }}"
